language: node_js
node_js:
- '8'
cache:
  yarn: true
  directories:
  - node_modules
script:
- npm rebuild node-sass
- npm run build
- npm run deploy
env:
  global:
    secure: Q2HQF9WlW8yX/zuoBrWwn0ITKoLHDlRqGIHP67RxRGKitPfs0XHdvlmKar1GMBijrx4xE39RAzVlXYdOcb/4lN1NqlnB3x5dl0CRReVaI1glpx9q1h5XUWLZd0mC70Zdqujt90/pyWnFD1h4yITXvco50PvZjkh3VlK8v7p8/0cbv9pwwtaxCOmw05jLVPq9eccPPXD3onEmfp6XqUOHsFA8yipi+1W/w1+2IhtwtlMhmbA5G4On0L3D2OTP9KYm3bmj59kGxzMmpCvuoY0NPI5TxzJyj9rCrXewNTdJOlV8D0RULs66IDpnkDKAlClRjEXNG1nfRQHZIuZnUF30Snbf3yvvoQlHyJy378o93UxWDlffR7GdDcMLaAFM3ThBFbvE8M2KvM77e/pEdXRKgQh64SyRta/iFPizGZJ71b0jbjR+wsyjsFwXNcb2MdPR9GciizQML2Sn8VwcYgOAzuNHrWPQEm0GiXglCOs3rZp2Nl6wHdEFKtipt2TWRDaVyaj4l+mCt/tnw1gLejFLkJWt/0dh71xPVipSmybvhgu1uyqDEz6aEXWli1h+yZFiFiu5u4AIM+OGdWHXuB/yzH2DhZoDez/iWD6/YCvBgTu3rUyyBh3WXA2zPpcb2RZ5oZiesnBahZeWKpamPRNheymNacHi7GnmBExPFQS/3rM=
notifications:
  slack:
    rooms:
      secure: e28mGUXonEd8bRto15PES/hl7upgRHK3bWmTLFvgbO5ZnxK/O1UHZ3prD4Rkm0L426EqN5sdZ5l/FPQE9QFhQaWFdRPwN8YG47qkv9xLc3fOO0kUeKrPGu00IKQgWhiw2jhOKwkfZ5S6eneY+jBCPEXMAo5Ts2dNpDHCxhTKtsOGWLD1OuqynsYQq4rYtwFVmOZ1zaD0sfACJMZ00QCeEzKLdOGpoTRHgoHrN+wvoVs0NnlxV4DpIyoAOiwqQkVauviBY+AAAM/PQ6J1ZVR0OaIuukmOeozuoGsKti8ghymIutckk+TT7Pr7JOFOnC/+kAciniJ9fxWEdSPMyoWzaq8c0QSyQhWvigHpf7hIvZK4pvAnWzw1dKQ7iIPvceTexTAMrZamMkp5up9+P9sCxjBrOW3JqZES5u68QBEGIrY0kS8ZUCNZU7N/knsGNZ7dSWPamQNUI1Hnatxs2dWDdJDYWbrz8+hsPJ0oq8HHBjk3mY5oxHCyL3SuN1h89NhrWJo1Lo9J+UX6xkzdEIPdoNoh5vVkjHuYsvZsAJFviYns//8ybnSejY9XRHZPnQ79ygQ7JASufSbYzOFlTnKEFTTD4V8NwhMuJhUA9ih1Y2ktzpZkvscWYeyRGrS6ehpDcuSh91hWL6KL2++Fk7UvpaM/lkdkAE6NmNYqyKsaT0I=
    on_success: change
    on_failure: always
